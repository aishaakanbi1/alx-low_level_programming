more uses of malloc and free
